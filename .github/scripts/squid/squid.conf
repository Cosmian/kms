# Squid basic config with authentication
http_port 8888

# Authentication settings
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwd
auth_param basic realm Proxy
auth_param basic credentialsttl 2 hours
auth_param basic casesensitive on

# ACL requiring authentication
acl authenticated proxy_auth REQUIRED

# Allow only authenticated users
http_access allow authenticated
http_access deny all

# Recommended minimum settings
cache deny all
access_log /var/log/squid/access.log squid
cache_log /dev/stdout
cache_store_log none
